!function(){"use strict";var e=document.querySelectorAll("[data-letter]"),t=document.querySelector("[data-backspace]"),n=document.querySelector("[data-capslock]"),c=document.querySelector("[data-enter]"),i=document.querySelector("[data-done]"),a=document.querySelector("[data-space]"),o=document.querySelector("[data-output]"),d=document.querySelector("[data-keyboard]"),s=document.querySelector("[data-language]"),r=document.querySelector("[data-shift]"),u=!0,l=!1,v=!1,f=["1","2","3","4","5","6","7","8","9","0","-","=","q","w","e","r","t","y","u","i","o","p","[","]","a","s","d","f","g","h","j","k","l",";","'","\\","z","x","c","v","b","n","m",",",".","/"],k=["!","@","#","$","%","^","&","*","(",")","_","+","Q","W","E","R","T","Y","U","I","O","P","{","}","A","S","D","F","G","H","J","K","L",":",'"',"|","Z","X","C","V","B","N","M","<",">","?"],L=["!","@","#","$","%","^","&","*","(",")","_","+","q","w","e","r","t","y","u","i","o","p","{","}","a","s","d","f","g","h","j","k","l",":",'"',"|","z","x","c","v","b","n","m","<",">","?"],p=["1","2","3","4","5","6","7","8","9","0","-","=","Q","W","E","R","T","Y","U","I","O","P","[","]","A","S","D","F","G","H","J","K","L",";","'","\\","Z","X","C","V","B","N","M",",",".","/"],m=["1","2","3","4","5","6","7","8","9","0","-","=","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","\\","я","ч","с","м","и","т","ь","б","ю","."],y=["!",'"',"№",";","%",":","?","*","(",")","_","+","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","/","Я","Ч","С","М","И","Т","Ь","Б","Ю",","],E=["!",'"',"№",";","%",":","?","*","(",")","_","+","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","/","я","ч","с","м","и","т","ь","б","ю",","],S=["1","2","3","4","5","6","7","8","9","0","-","=","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","\\","Я","Ч","С","М","И","Т","Ь","Б","Ю","."],_=document.querySelector("[data-left]"),h=document.querySelector("[data-right]");_.addEventListener("click",(function(){o.selectionStart=o.selectionStart-1,o.selectionEnd=o.selectionStart,o.focus()})),h.addEventListener("click",(function(){o.selectionStart=o.selectionStart+1,o.selectionEnd=o.selectionStart,o.focus()}));var b=document.querySelector("[data-audio]"),g={},q=!0;function w(e){q&&("pause"in g&&g.pause(),(g=new Audio(e)).play())}b.addEventListener("click",(function(){q?(q=!1,b.classList.remove("keyboard__key--active")):(q=!0,b.classList.add("keyboard__key--active"))}));var x=document.querySelector("[data-speech]"),C=document.querySelector("[data-speech-helper]");!function(){if("SpeechRecognition"in window||"webkitSpeechRecognition"in window){var e=!1;window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;var t=new SpeechRecognition;t.interimResults=!0,t.lang="en",s.addEventListener("click",(function(){t.lang=u?"ru":"en"})),t.addEventListener("result",(function(e){var n=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");C.innerHTML="".concat(n,", язык распознавания: ").concat(t.lang),e.results[0].isFinal&&(o.value+=n,o.value+="\n")})),t.addEventListener("end",(function(){!0===e&&t.start()})),x.addEventListener("click",(function(){!1===e?(e=!0,t.start(),x.classList.add("keyboard__key--active")):(e=!1,x.classList.remove("keyboard__key--active"),t.stop())}))}else C.innerHTML="Браузер не поддерживает функцию распознавания речи"}();var R=function(t,n,c){for(var i=0;i<e.length;i++)!0===t&&!1===n&&!1===c?e[i].textContent=f[i]:!0===t&&!1===n&&!0===c?e[i].textContent=k[i]:!0===t&&!0===n&&!0===c?e[i].textContent=L[i]:!0===t&&!0===n&&!1===c?e[i].textContent=p[i]:!1===t&&!1===n&&!1===c?e[i].textContent=m[i]:!1===t&&!1===n&&!0===c?e[i].textContent=y[i]:!1===t&&!0===n&&!0===c?e[i].textContent=E[i]:!1===t&&!0===n&&!1===c&&(e[i].textContent=S[i])};s.addEventListener("click",(function(){u?(R(u=!1,l,v),s.textContent="RU"):(R(u=!0,l,v),s.textContent="EN")})),n.addEventListener("click",(function(){!0===l?(R(u,l=!1,v),n.classList.remove("keyboard__key--active")):(R(u,l=!0,v),n.classList.add("keyboard__key--active"))})),r.addEventListener("click",(function(){!0===v?(R(u,l,v=!1),r.classList.remove("keyboard__key--active")):(R(u,l,v=!0),r.classList.add("keyboard__key--active"))})),function(){for(var t=function(t){e[t].addEventListener("click",(function(){o.value+=e[t].textContent,o.focus()}))},n=0;n<e.length;n++)t(n)}(),t.addEventListener("click",(function(){o.value=o.value.slice(0,-1),o.focus()})),c.addEventListener("click",(function(){o.value+="\n",o.focus()})),a.addEventListener("click",(function(){o.value+=" ",o.focus()})),o.addEventListener("click",(function(){d.classList.remove("keyboard--hidden")})),i.addEventListener("click",(function(){d.classList.add("keyboard--hidden")}));for(var A=0;A<e.length;A++)e[A].addEventListener("click",(function(){w("./static/sound/a.mp3")}));s.addEventListener("click",(function(){w("./static/sound/a.mp3")})),t.addEventListener("click",(function(){w("./static/sound/backspace.mp3")})),x.addEventListener("click",(function(){w("./static/sound/a.mp3")})),b.addEventListener("click",(function(){w("./static/sound/a.mp3")})),n.addEventListener("click",(function(){w("./static/sound/caps.mp3")})),c.addEventListener("click",(function(){w("./static/sound/enter.mp3")})),r.addEventListener("click",(function(){w("./static/sound/shift.mp3")})),i.addEventListener("click",(function(){w("./static/sound/a.mp3")})),a.addEventListener("click",(function(){w("./static/sound/space.mp3")})),_.addEventListener("click",(function(){w("./static/sound/space.mp3")})),h.addEventListener("click",(function(){w("./static/sound/space.mp3")}))}();